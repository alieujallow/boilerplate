<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <title>Location Finder</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

  <link rel="stylesheet"  href="css/jquery.mobile.structure.css" />
  <link rel="stylesheet" href="css/jquery.mobile.theme.css" />
  
  <script>
    var userAgent = navigator.userAgent + '';
    if (userAgent.indexOf('iPhone') > -1)
     {
       document.write('<script src="js/lib/cordova-iphone.js"></sc' + 'ript>');
       var mobile_system = 'iphone';
     } 
    else if (userAgent.indexOf('Android') > -1) {
      document.write('<script src="js/lib/cordova-android.js"></sc' + 'ript>');
      var mobile_system = 'android';
    }
     else
    {
      var mobile_system = '';
    }
  </script>
  <script src="js/lib/jquery.js"></script>

  <!-- your scripts here -->
  <script src="js/app/bootstrap.js"></script>
  <script src="js/lib/jquery.mobile.js"></script>

  </head>
  <body>
    
    <div data-role="page">

    	<div data-role="header">
    		<h1>Single page</h1>
    	</div><!-- /header -->

    	<div data-role="content">
            <p id="geolocation"></p>
            <div id="map" style="height:100vh; width:94vw;">
            </div>
    	</div><!-- /content -->

    	<div data-role="footer">
         <div></div><br>
    		 <button id="locationBtn" style="width: 100%;">Show Location</button>
    	</div><!-- /footer -->

    </div><!-- /page -->
     <!--<script src="js/app/app.js"></script><!-- /page -->

     <script type="text/javascript">
        document.addEventListener("deviceready", onDeviceReady, false);

        function onDeviceReady()
        {
          //getMapLocation();
        }

        // Get geo coordinates
        function getMapLocation()
        {
            navigator.geolocation.getCurrentPosition
            (onMapSuccess, onMapError, { enableHighAccuracy: true });
        }

        // Success callback for get geo coordinates
        var onMapSuccess = function (position) 
        {
            Latitude = position.coords.latitude;
            Longitude = position.coords.longitude;
            getMap(Latitude, Longitude);
        }

        // Get map by using coordinates
        function getMap(latitude, longitude) 
        {
            var mapOptions = {
                center: new google.maps.LatLng(0, 0),
                zoom: 1,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };

            map = new google.maps.Map
            (document.getElementById("map"), mapOptions);
            var latLong = new google.maps.LatLng(latitude, longitude);
            marker = new google.maps.Marker({
                position: latLong
            });

            marker.setMap(null);
            map.setZoom(18);
            map.setCenter(marker.getPosition());
        }


        // Error callback
        function onMapError(error)
        {
            console.log('code: ' + error.code + '\n' +
          'message: ' + error.message + '\n');
        }

        /*function myMap(position)
         {

          Latitude = position.coords.latitude;
          Longitude = position.coords.longitude;

          var myCenter = new google.maps.LatLng(Latitude,Longitude);
          var mapCanvas = document.getElementById("map");
          var mapOptions = {center: myCenter, zoom: 5};
          var map = new google.maps.Map(mapCanvas, mapOptions);
          var marker = new google.maps.Marker({position:myCenter});
          marker.setMap(map);
        }*/

     </script>
     <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBs8AI33gXoVnnhH9P6XCQgliwx5vJBt7s&callback=getMapLocation"></script>
  </body>
</html>
